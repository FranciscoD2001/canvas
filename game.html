
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf8">
    <meta name="viewport" content="width=devive-width,
    initial-scale=1">
    <title>
        Canvas
    </title>
    <style type="text/css">
        canvas{
            background-color: rgb(255, 255, 255);

    }
    </style>
    
</head>
<body>
    <canvas id="mycanvas" width="1000" height="800">
        Hola tu navegador no funciona
    </canvas>

    <img id="imagen" src="Ghost.jpg" style="display:none">

    <script type="text/javascript">
        var cv = null
        var ctx = null 

        var press = false;

        var super_x = 0;
        var super_y = 0;   

        // document.addEventListener('keydown',function(e){
        //     console.log(e)

        //     if(e.key == "w" || e.key == "ArrowUp"){
        //         super_y -= 5;
        //     }

        //     if(e.key == "s" || e.key == "ArrowDown"){
        //         super_y += 5;
        //     }

        //     if(e.key == "a" || e.key == "ArrowLeft"){
        //         super_x -= 5;
        //     }

        //     if(e.key == "d" || e.key == "ArrowRight"){
        //         super_x += 5;
        //     }
        //     paint();
        // })

        window.requestAnimationFrame = (function () {
            return window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                function (callback) {
                    window.setTimeout(callback, 17);
                };
        }());

        window.addEventListener("load", run(), false)

        function paint(){
            window.requestAnimationFrame(paint)

            ctx.fillStyle = "white";
            ctx.fillRect(0,0,1000,800);
            ctx.fillStyle = randomColor();
            ctx.fillRect(super_x, super_y, 40,40);

            super_x+=5;

            if(super_x>800){
                super_x = 0;
            }
        }

        function random(number){
            return Math.floor(Math.random()*number);
        }

        function randomColor(){
            return 'rgba('+random(255)+','+random(255)+','+random(255)+',0.5)';    
        }

        function run(){
            cv = document.getElementById('mycanvas');
            ctx = cv.getContext('2d');
            paint()
        }

    </script>

</body>
</html>